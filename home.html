<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ•°ç†å¤©å·¥-ç¥–å†²ä¹‹</title>
    <script src="./node_modules/three.min.js"></script>
    <style>
body {
    background: #D9D9D9;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    font-family: 'SimSun', serif;
    position: relative; /* å…³é”®ï¼šå»ºç«‹å®šä½ä¸Šä¸‹æ–‡ */
}

body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('../img/bg.png') center/cover; /* å…³é”®ä¿®æ”¹ç‚¹ */
    opacity: 0.8;
    pointer-events: none;
    z-index: -1;
    /* ç§»é™¤åŸæœ‰background-sizeå’Œtransform */
}


        .container {
            top:20px;
            width: 800px;
            height: 600px;
            background: #F0F0F0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(109, 115, 234, 0.2); /* è“ç´«è‰²é˜´å½± */
            position: relative;
            padding: 30px;
            z-index: 1; /* å¿…é¡»é«˜äºæ°´å°å±‚ */
        }
        #container2 {
        position: relative; 
    }

        /* ç»ˆç«¯å¯¼èˆªæ  */
        .terminal-nav {
            top: 0px;
            position: absolute;
            left: 0;
            width: 851px;
            height: 45px;
            background-color:#4A4FA3;
            color: #4d4c4c;
            display: flex;
            align-items: center;
            padding-left: 10px;
            font-family: monospace;
            font-size: 14px;
        }

        .title-bar-controls {
            position: absolute;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .control-button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .minimize {
            background-color: #4A4FA3;
        }

        .maximize {
            background-color: #4A4FA3;
        }

        .close {
            background-color: #4A4FA3;
        }

        .control-button:hover {
            opacity: 0.8;
        }

        .nav-bar {
            display: flex;
            justify-content: space-between;
            padding-bottom: 20px;
            border-bottom: 1px solid #4A4FA3;
            margin-top: 40px;
        }

        .nav-link {
            transition: all 0.3s ease; /* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
            position: relative;
            padding: 5px 10px;
            display: inline; /* ç¡®ä¿æ–‡å­—åªåœ¨æ°´å¹³æ–¹å‘ä¸Šå˜åŒ– */
            font-size: 20px; /* åˆå§‹å­—ä½“å¤§å° */
            transform-origin: center; /* è®¾ç½®ç¼©æ”¾ä¸­å¿ƒç‚¹ */
        }

        .nav-link:hover {
            color: #34241f; /* é¼ æ ‡æ‚¬åœæ—¶æ–‡å­—é¢œè‰²å˜æ·± */
            transform: scale(1.2); /* æ–‡å­—æ”¾å¤§ 1.2 å€ */
            filter: brightness(1.5); /* å¢åŠ äº®åº¦ï¼Œæ¨¡æ‹Ÿæ”¾å¤§é•œæ•ˆæœ */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* æ·»åŠ é˜´å½±ï¼Œå¢å¼ºæ–‡å­—æ•ˆæœ */
            z-index: 100; /* ç¡®ä¿æ–‡å­—åœ¨æœ€ä¸Šå±‚ */
        }

        .nav-item a {
            color: #40448a;
            text-decoration: none; /* å–æ¶ˆä¸‹åˆ’çº¿ */
            cursor: pointer;
        }

        .nav-item a:hover {
            color: #272956; /* é¼ æ ‡æ‚¬åœæ—¶ç¨å¾®å˜æ·± */
        }

        .title-vertical {
            writing-mode: vertical-rl;
            position: absolute;
            left: 30px;
            top: 120px;
            font-size: 32px;
            color: #4A4FA3;
            letter-spacing: 8px;
            animation: fadeIn 4s ease-in-out; /* æ·»åŠ æ·¡å…¥åŠ¨ç”»æ•ˆæœ */
        }

        .content {
            position: relative;
            display: flex;
            margin-top: 40px;
            gap: 40px;
        }

        .text-content {

            line-height: 1.8;
            color: #4A4FA3;
            text-indent: 2em;
            font-size: 14px;
            animation: fadeIn 4s ease-in-out; /* æ·»åŠ æ·¡å…¥åŠ¨ç”»æ•ˆæœ */
        }

        .stamp {
            position: absolute;
            left: 47.5%;
            height: 20px;
            width: 30px;
            bottom: 10px;
            background: #4A4FA3;
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 15px;
        }

        .content-panel {
            margin-left: 50px;
            position:relative;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 40px;
        }

        .content-panel.active {
            position:relative;
        }

        .img-container {
            position: relative;
            float: left;
            width: 300px;
            height: 400px;
            animation: fadeIn 2s ease-in-out; /* åŠ¨ç”»æ•ˆæœ */
        }

        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .tooltip {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0;
            background-color: #4A4FA3;
            color: #eff2fb;
            padding: 10px;
            box-sizing: border-box;
            opacity: 0;
            transition: height 0.3s ease, opacity 0.3s ease;
            pointer-events: none;
            text-align: center;
            line-height: 40px;
        }

        .img-container:hover .tooltip {
            height: 100%;
            opacity: 1;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
  /* å¯¹è¯æŒ‰é’®æ ·å¼ */
  .chat-button {
        position: fixed;
        bottom: 40px;
        right: 40px;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: #4A4FA3;
        color: #F5F1E8;
        border: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        cursor: pointer;
        transition: transform 0.3s ease;
    }

    .chat-button:hover {
        transform: scale(1.1) rotate(15deg);
    }

    /* å¯¹è¯æ¡†æ ·å¼ */
    .chat-modal {
        display: none;
        position: fixed;
        bottom: 120px;
        right: 40px;
        width: 350px;
        background: #D9D9D9;
        border-radius: 10px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        z-index: 1000;
    }

    .chat-header {
        padding: 16px;
        background: #4A4FA3;
        border-radius: 10px 10px 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 18px;
        color: #D9D9D9;
    }

    .close-chat {
        cursor: pointer;
        font-size: 24px;
        transition: transform 0.3s ease;
    }

    .close-chat:hover {
        transform: rotate(90deg);
    }

    .chat-content {
        height: 300px;
        padding: 16px;
        overflow-y: auto;
        background: linear-gradient(to bottom, #D9D9D9, #d4d3da);
    }

    .chat-input {
        display: flex;
        padding: 16px;
        border-top: 1px solid #d9d9d9;
    }

    #user-input {
        flex: 1;
        padding: 8px;
        border: 1px solid #d9d9d9;
        border-radius: 4px;
        margin-right: 8px;
    }

    #send-btn {
        padding: 8px 16px;
        background: #4A4FA3;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.3s ease;
    }

    #send-btn:hover {
        background: #34241f;
    }

    /* æ¶ˆæ¯æ°”æ³¡æ ·å¼ */
    .message {
        margin-bottom: 12px;
        padding: 8px 12px;
        border-radius: 15px;
        max-width: 80%;
    }

    .user-message {
        background: #f7f7f7;
        margin-left: auto;
    }

    .bot-message {
        background: #7c81e4;
        color: white;
    }
        
    </style>
</head>
<body>

    <div class="container" id="container1">
        <!-- æ ‡é¢˜æ  -->
        <div class="terminal-nav">
            <div class="title-bar-controls">
                <div class="control-button minimize">-</div>
                <div class="control-button maximize">â–¡</div>
                <div class="control-button close">Ã—</div>
            </div>
        </div>

    <div class="container" id="container2">
        <!-- ç»ˆç«¯å¯¼èˆªæ  -->
        <div class="terminal-nav">
            <div class="title-bar-controls">
                <div class="control-button minimize">-</div>
                <div class="control-button maximize">â–¡</div>
                <div class="control-button close">Ã—</div>
            </div>
            <!-- å¯¼å…¥echartå¯¼èˆªæ å›¾æ ‡ -->
             
        </div>

        <div class="nav-bar">
            <div class="nav-item">
                <a href="renwushengping.html" class="nav-link">äººç‰©ç”Ÿå¹³</a>
            </div>
            <div class="nav-item">
                <a href="geyuanshu.html" class="nav-link">å‰²åœ†æœ¯</a>
            </div>
            <div class="nav-item">
                <a href="PIs.html" class="nav-link">Î çš„å¯†ç </a>
            </div>
            <div class="nav-item">
                <a href="sumi.html" class="nav-link">ç²Ÿç±³æ³•</a>
            </div>
        </div>
        
        <div class="title-vertical">ç¥–å†²ä¹‹</div>
        
        <!-- å†…å®¹é¢æ¿ -->
        <div class="content-panel active">
            <div class="img-container">
                <img src="img\zuchongzhi.png" alt="ç¥–å†²ä¹‹" id="zuchongzhi-img">

            </div>
            <div class="text-content">
                ç¥–å†²ä¹‹ï¼ˆ429å¹´-500å¹´ï¼‰ï¼Œå­—æ–‡è¿œï¼Œç”Ÿäºä¸¹é˜³éƒ¡å»ºåº·å¿ï¼ˆä»Šæ±Ÿè‹å—äº¬ï¼‰ï¼Œç±è´¯èŒƒé˜³éƒ¡é’å¿ï¼ˆä»Šæ²³åŒ—çœä¿å®šå¸‚æ¶æ°´å¿ï¼‰ï¼Œå—åŒ—æœæ—¶æœŸæ•°å­¦å®¶ã€å¤©æ–‡å­¦å®¶ã€ç§‘å­¦å®¶ã€‚
 
            </div>
            <div class="text-content">
                ç¥–å†²ä¹‹ç¥–çˆ¶æ˜¯æœå»·è´Ÿè´£å»ºé€ çš„å®˜å‘˜ï¼Œå› è€Œä»å°å—å®¶åº­å½±å“å–œæ¬¢ç§‘å­¦çŸ¥è¯†ï¼Œå—æœåˆ˜å®‹ç‹æœæ—¶ï¼Œç¥–å†²ä¹‹åšè¿‡å¾å·åˆºå²åˆ˜å­é¸¾çš„ä»äº‹å’Œå…¬åºœå‚å†›ï¼Œåˆ˜å­é¸¾è¢«æ€åï¼Œç¥–å†²ä¹‹è¢«è°ƒåˆ°å¨„å¿å»åšäº†å¿ä»¤ã€‚åˆ˜å®‹å­æ­¦å¸æ—¶ï¼Œç¥–å†²ä¹‹æ›¾åœ¨åæ—å­¦çœå­¦ä¹ ï¼Œå¹¶è¿›è¡Œäº†å¾ˆå¤šç§‘å­¦ç ”ç©¶ã€‚å—é½å‘ç”Ÿå†…ä¹±æ—¶ï¼Œç¥–å†²ä¹‹åœ¨ç»™é½æ˜å¸çš„ä¸Šä¹¦ã€Šå®‰è¾¹è®ºã€‹ä¸­å»ºè®®æœå»·å¼€å¦è’åœ°ï¼Œå‘å±•å†œä¸šï¼Œå®‰å®šæ°‘ç”Ÿï¼Œå·©å›ºè¾¹é˜²ã€‚é½æ˜å¸ä¾¿æ‰“ç®—æ´¾ç¥–å†²ä¹‹å‰å¾€å„åœ°å·¡æŸ¥ï¼Œä½†è¿˜æœªæˆè¡Œæ—¶ï¼Œç¥–å†²ä¹‹å°±å»ä¸–äº†ã€‚
            </div>
            <div class="text-content">
                ç¥–å†²ä¹‹çš„ä¸»è¦è´¡çŒ®åœ¨æ•°å­¦ï¼Œæ‰€æ’°çš„ã€Šç¼€æœ¯ã€‹ä¸€ä¹¦ï¼Œè¢«æ”¶å…¥ã€Šç®—ç»åä¹¦ã€‹ï¼Œå”ä»£å°†æ­¤ä¹¦åˆ—å…¥å›½å­ç›‘æ•™æï¼Œåå› æ·±å¥¥è€Œæœªå¾—ä¼ ã€‚ç¥–å†²ä¹‹åœ¨å‰äººçš„åŸºç¡€ä¸Šï¼Œç»è¿‡åˆ»è‹¦é’»ç ”ï¼Œåå¤æ¼”ç®—ï¼Œå°†åœ†å‘¨ç‡æ¨ç®—è‡³å°æ•°ç‚¹å7ä½æ•°ï¼ˆå³3.1415926ä¸3.1415927ä¹‹é—´ï¼‰ï¼Œå¹¶å¾—å‡ºäº†åœ†å‘¨ç‡åˆ†æ•°å½¢å¼çš„è¿‘ä¼¼å€¼ã€‚åœ¨å½“æ—¶ä¸–ç•Œä¸Šæœ€å…ˆè¿›ï¼Œè¿™ä¸€çºªå½•ä¿æŒäº†åƒå¹´ï¼Œç›´åˆ°15ä¸–çºªæ‰ç”±é˜¿æ‹‰ä¼¯æ•°å­¦å®¶å¡è¥¿æ‰“ç ´ã€‚åœ¨å¤©æ–‡å†æ³•æ–¹é¢ï¼Œç¥–å†²ä¹‹åˆ›åˆ¶çš„ã€Šå¤§æ˜å†ã€‹ï¼Œæœ€æ—©å°†å²å·®å¼•è¿›å†æ³•ã€‚åœ¨æœºæ¢°å­¦æ–¹é¢ï¼Œå…¶è®¾è®¡åˆ¶é€ è¿‡æ°´ç¢“ç£¨ã€é“œåˆ¶æœºä»¶ä¼ åŠ¨çš„æŒ‡å—è½¦ã€åƒé‡Œèˆ¹ã€å®šæ—¶å™¨ç­‰ã€‚å¦åœ¨éŸ³å¾‹ã€æ–‡å­¦ã€è€ƒæ®æ–¹é¢ä¹Ÿæœ‰é€ è¯£ï¼Œè¿˜è‘—æœ‰å°è¯´ã€Šè¿°å¼‚è®°ã€‹ã€‚
            </div>
        </div>
        <div class="stamp">ç®€ä»‹</div>
        
    </div>
<!-- åœ¨bodyç»“æŸå‰æ·»åŠ å¯¹è¯æ¡†ç»“æ„ -->
<div id="chat-modal" class="chat-modal">
    <div class="chat-header">
        <span>ä¸ç¥–å†²ä¹‹å¯¹è¯</span>
        <span class="close-chat">&times;</span>
    </div>
    <div class="chat-content" id="chat-content"></div>
    <div class="chat-input">
        <input type="text" id="user-input" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜...">
        <button id="send-btn">å‘é€</button>
    </div>
</div>
    <script>

// æœ€å¤§åŒ–åŠŸèƒ½
document.querySelectorAll('.control-button.maximize').forEach(button => {
    button.addEventListener('click', function() {
        const container1 = document.getElementById('container1');
        const container2 = document.getElementById('container2');
        
        // 1. è·å–å±å¹•å°ºå¯¸å’Œå®¹å™¨åŸå§‹å°ºå¯¸
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        const originalWidth = 800;  // å®¹å™¨åŸå§‹å®½åº¦
        const originalHeight = 600; // å®¹å™¨åŸå§‹é«˜åº¦
        
        // 2. è®¡ç®—ä¿æŒå®½é«˜æ¯”çš„æœ€ä½³ç¼©æ”¾æ¯”ä¾‹
        const scaleWidth = screenWidth / originalWidth;
        const scaleHeight = screenHeight / originalHeight;
        const scale = Math.min(scaleWidth, scaleHeight) * 0.95; // ç•™å‡º5%è¾¹è·
        
        // 3. åº”ç”¨å…¨å±æ ·å¼
        container2.style.position = 'fixed';
        container2.style.top = '50%';
        container2.style.left = '50%';
        container2.style.transform = `translate(-50%, -50%) scale(${scale})`;
        container2.style.transformOrigin = 'center';
        container2.style.width = `${originalWidth}px`; // ä¿æŒåŸå§‹å°ºå¯¸
        container2.style.height = `${originalHeight}px`;
        container2.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
        container2.style.zIndex = '1000';
        container2.style.overflow = 'auto'; // å…è®¸å†…å®¹æ»šåŠ¨
        container2.style.pointerEvents = 'auto'; // ç¡®ä¿å¯äº¤äº’
    
    });
});

// æœ€å°åŒ–åŠŸèƒ½ï¼ˆä¿®å¤ç‰ˆï¼‰
document.querySelectorAll('.control-button.minimize').forEach(button => {
    button.addEventListener('click', function() {
        const container1 = document.getElementById('container1');
        const container2 = document.getElementById('container2');
        
        // å®Œæ•´æ ·å¼é‡ç½®ï¼ˆæ¨èä½¿ç”¨CSSç±»ç®¡ç†ï¼‰
        Object.assign(container2.style, {
            position: '',        // æ¸…é™¤å®šä½
            top: '',
            left: '',
            transform: 'none',   // å¿…é¡»æ¸…é™¤ç¼©æ”¾
            width: '',          // ä¸è¦ç¡¬ç¼–ç å°ºå¯¸
            height: '',
            boxShadow: '',
            borderRadius: '',
            padding: '',
            overflow: '',
            zIndex: '',
            transformOrigin: ''
        });

        // å…³é”®DOMæ“ä½œï¼šå¦‚æœç§»åŠ¨è¿‡å®¹å™¨ä½ç½®éœ€è¿˜åŸ
        if (!container1.contains(container2)) {
            container1.appendChild(container2);
        }


        
        // å¼ºåˆ¶é‡ç»˜è§£å†³æµè§ˆå™¨æ¸²æŸ“é—®é¢˜
        void container2.offsetHeight;
        
        // æ¢å¤é¡µé¢æ»šåŠ¨
        document.body.style.overflow = '';
    });
});

  // æ·»åŠ å¯¹è¯æŒ‰é’®
  const chatBtn = document.createElement('button');
    chatBtn.className = 'chat-button';
    chatBtn.innerHTML = 'ğŸ’¬';
    document.body.appendChild(chatBtn);

    // å¯¹è¯æ¡†æ§åˆ¶é€»è¾‘
    const modal = document.getElementById('chat-modal');
    const chatContent = document.getElementById('chat-content');

    chatBtn.onclick = () => modal.style.display = 'block';
    document.querySelector('.close-chat').onclick = () => modal.style.display = 'none';

    // å¯¹è¯é€»è¾‘
    document.getElementById('send-btn').addEventListener('click', async () => {
        const userInput = document.getElementById('user-input');
        const question = userInput.value.trim();
        if (!question) return;

        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        addMessage(question, 'user');
        userInput.value = '';

        try {
            const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer sk-f2bbc440807e4a1f8df4f6db3f50325c'
            },
                body: JSON.stringify({
                    model: "deepseek-chat",
                    messages: [{
                        role: "system",
                        content: "ä½ æ­£åœ¨æ‰®æ¼”å¤ä»£æ•°å­¦å®¶ç¥–å†²ä¹‹..."
                    }, {
                        role: "user",
                        content: question
                    }]
                })
            });

            const data = await response.json();
            const answer = data.choices[0].message.content;
            addMessage(answer, 'bot');
        } catch (error) {
            addMessage("è€å¤«æ­£åœ¨æ¼”ç®—åœ†å‘¨ç‡ï¼Œç¨åå†æ¥...", 'bot');
        }
    });

    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}-message`;
        messageDiv.textContent = text;
        chatContent.appendChild(messageDiv);
        chatContent.scrollTop = chatContent.scrollHeight;
    }
    </script>
</body>
</html>